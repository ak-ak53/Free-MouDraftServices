<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vault – Free MOU Drafter</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 24px; }
    h2 { margin-top: 32px; }
    label { display: block; margin-top: 12px; }
    input, textarea, select { width: 100%; padding: 8px; margin-top: 4px; }
    textarea { min-height: 120px; }
    button { margin-top: 24px; padding: 12px 20px; }
    .party { border: 1px solid #ccc; padding: 16px; margin-top: 16px; }
    pre { white-space: pre-wrap; background: #f6f6f6; padding: 16px; }
  </style>
</head>
<body>

<h1>Vault – Free MOU Drafter (MVP)</h1>

<h2>1. Date</h2>
<label>Date in words</label>
<input id="dateWords" />

<label>Date in numbers</label>
<input id="dateNumbers" placeholder="DD/MM/YYYY" />

<h2>2. BETWEEN Clause</h2>
<label>Number of Parties</label>
<input type="number" id="betweenCount" min="1" value="2" />
<button onclick="renderBetween()">Add Parties</button>
<div id="betweenParties"></div>

<h2>3. AND Clause</h2>
<label>Number of Parties</label>
<input type="number" id="andCount" min="1" value="2" />
<button onclick="renderAnd()">Add Parties</button>
<div id="andParties"></div>

<h2>4. WHEREAS – Schedule C Extract</h2>
<textarea id="scheduleCExtract" placeholder="Paste Schedule C text from Sale Deed"></textarea>

<h2>5. Sale Consideration</h2>
<label>Amount (Numbers)</label>
<input id="saleAmount" oninput="convertAmount()" />

<label>Amount (Words – auto)</label>
<input id="saleAmountWords" readonly />

<h2>7. Payment Terms & Standard MOU Body</h2>
<label>Total Consideration (Number)</label>
<input id="totalConsideration" />

<label>Total Consideration (Words)</label>
<input id="totalConsiderationWords" />

<label>Number of Payment Tranches</label>
<input type="number" id="paymentCount" min="1" value="1" />
<button onclick="renderPayments()">Add Payments</button>
<div id="payments"></div>

<p><strong>Note:</strong> Arbitration, jurisdiction, back-out clauses and standard legal text will be auto-inserted as fixed content.</p>

<h2>8. Schedule A</h2>
<textarea id="scheduleA"></textarea>

<h2>9. Schedule B</h2>
<textarea id="scheduleB"></textarea>

<h2>10. Schedule C</h2>
<textarea id="scheduleC"></textarea>

<button onclick="generateMOU()">Generate MOU</button>

<h2>Generated MOU Preview</h2>
<pre id="output"></pre>

<script>
function renderPayments() {
  const count = document.getElementById('paymentCount').value;
  const div = document.getElementById('payments');
  div.innerHTML = '';
  for (let i = 1; i <= count; i++) {
    div.innerHTML += `
      <div class="party">
        <label>Amount (Rs.)</label><input />
        <label>Amount (Words)</label><input />
        <label>Payment Date</label><input />
        <label>Payment Mode</label><input />
        <label>Transaction ID</label><input />
      </div>`;
  }
}

function mask(value) {
  if (!value) return '';
  return value.slice(0, -4).replace(/./g, 'X') + value.slice(-4);
}

function renderBetween() {
  const count = document.getElementById('betweenCount').value;
  const div = document.getElementById('betweenParties');
  div.innerHTML = '';
  for (let i = 1; i <= count; i++) {
    div.innerHTML += partyTemplate(`between_${i}`);
  }
}

function renderAnd() {
  const count = document.getElementById('andCount').value;
  const div = document.getElementById('andParties');
  div.innerHTML = '';
  for (let i = 1; i <= count; i++) {
    div.innerHTML += partyTemplate(`and_${i}`);
  }
}

function partyTemplate(prefix) {
  return `
  <div class="party">
    <label>Name</label><input id="${prefix}_name" />
    <label>S/O</label><input id="${prefix}_so" />
    <label>Aged</label><input id="${prefix}_age" />
    <label>Address</label><textarea id="${prefix}_address"></textarea>
    <label>Aadhar</label><input id="${prefix}_aadhar" />
    <label>PAN</label><input id="${prefix}_pan" />
  </div>`;
}

function convertAmount() {
  const num = document.getElementById('saleAmount').value;
  document.getElementById('saleAmountWords').value = numberToWords(num);
}

function numberToWords(num) {
  if (!num) return '';
  return num + ' (convert-to-words logic can be extended)';
}

function generateMOU() {
  let text = '';
  text += `This Memorandum of Understanding is executed on ${dateWords.value} (${dateNumbers.value}).\n\n`;

  text += `BETWEEN:\n`;
  document.querySelectorAll('#betweenParties .party').forEach(p => {
    const a = p.querySelectorAll('input, textarea');
    text += `${a[0].value}, S/O ${a[1].value}, Aged ${a[2].value}, Address: ${a[3].value}, Aadhar: ${mask(a[4].value)}, PAN: ${mask(a[5].value)}\n\n`;
  });

  text += `AND:\n`;
  document.querySelectorAll('#andParties .party').forEach(p => {
    const a = p.querySelectorAll('input, textarea');
    text += `${a[0].value}, S/O ${a[1].value}, Aged ${a[2].value}, Address: ${a[3].value}, Aadhar: ${mask(a[4].value)}, PAN: ${mask(a[5].value)}\n\n`;
  });

  text += `WHEREAS the Vendors are fully competent to enter into an agreement with respect to the following property:\n`;
  text += `${scheduleCExtract.value}\n\n`;

  text += `NOW THIS MOU WITNESSED AND IS HEREBY AGREED AS FOLLOWS:\n`;
  text += `That the Purchasers have agreed to pay the total consideration of Rs. ${totalConsideration.value} (${totalConsiderationWords.value}) in the following manner:\n\n`;

  document.querySelectorAll('#payments .party').forEach((p, i) => {
    const a = p.querySelectorAll('input');
    text += `${i + 1}. Rs. ${a[0].value} (${a[1].value}) on ${a[2].value} via ${a[3].value}, Transaction ID: ${a[4].value}.\n`;
  });

  text += `\nARBITRATION: Any dispute shall be referred to arbitration under the Arbitration and Conciliation Act, 1996. Place of arbitration: Bangalore.\n\n`;
  text += `This MOU shall be governed by the laws of India and courts at Bangalore shall have exclusive jurisdiction.\n\n`;

  text += `Schedule A:\n${scheduleA.value}\n\n`;
  text += `Schedule B:\n${scheduleB.value}\n\n`;
  text += `Schedule C:\n${scheduleC.value}`;

  document.getElementById('output').innerText = text;
}
}
</script>

</body>
</html>
